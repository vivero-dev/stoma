---
title: Stoma
description: Declarative API gateway as a TypeScript library, built on Hono. Runs on Cloudflare Workers, Deno, Bun, Node.js, and any runtime Hono supports (even the browser).
template: splash
hero:
  tagline: Strongly typed, ultra-light, blazing fast - run anywhere Hono runs!
  image:
    html: <img src="/leaf-bg-trees.jpg" alt="A lush canopy of green leaves" />
  actions:
    - text: Get Started
      link: /getting-started/installation/
      icon: right-arrow
      variant: primary
    - text: Open Editor
      link: /editor
      icon: pencil
      variant: secondary
    - text: View on GitHub
      link: https://github.com/HomeGrower-club/stoma
      icon: external
      variant: minimal
---

import { Card, CardGrid, Tabs, TabItem, Steps, Aside } from "@astrojs/starlight/components";
import Playground from "../../components/Playground.tsx";

**Declarative API gateway as a TypeScript library, built on Hono. Runs on Cloudflare Workers, Deno, Bun, Node.js, and any runtime Hono supports.**

## Even in the browser...

<Playground client:load />


---


## Why Stoma?

API gateways in the JavaScript ecosystem are often stuck between two suboptimal paths:

1.  **Heavy Infrastructure:** Kong, KrakenD, or AWS API Gateway. Powerful, but separate services configured with YAML, operating independently from your code. You lose type safety and pay for extra infrastructure.
2.  **Legacy Libraries:** Older libraries like Express Gateway are often unmaintained, locked to legacy frameworks, and not built for modern edge runtimes.

**Stoma is the third option: an embeddable gateway library that lives inside your application.**

<CardGrid>
  <Card title="Gateway as Code" icon="seti:typescript">
    Configured with **code, not YAML**. Version your gateway in Git, review changes in PRs, and rollback instantly with your standard deployment pipeline.
    [Read More](/getting-started/configuration/)
  </Card>
  <Card title="Type-Safe Ergonomics" icon="pencil">
    Full type safety from configuration to runtime. Your editor provides autocomplete for policies and upstreams, catching mistakes before your users do.
    [Read More](/guides/type-safe-bindings/)
  </Card>
  <Card title="Zero Infrastructure" icon="rocket">
    Leverages Hono's lightweight router (zero dependencies). No extra servers to manage, no extra latency.
    [Read More](/getting-started/installation/)
  </Card>
  <Card title="Multi-runtime" icon="external">
    Runs on **any runtime** Hono supports: Cloudflare Workers, Node.js, Deno, Bun, Fastly, Lambda@Edge, Vercel, and more.
    [Read More](/getting-started/installation/)
  </Card>
</CardGrid>

---

## Developer Experience First

Stoma is built by developers, for developers. We believe your gateway should be as easy to maintain as your application code.

<CardGrid>
  <Card title="Git Versionable" icon="comment-discussion">
    No more "hidden" configuration in an Admin UI. Your routes and policies live in your repo, making it easy to see *why* a change was made.
    [Read More](/guides/config-splitting/)
  </Card>
  <Card title="Composable" icon="puzzle">
    Split large gateways into multiple modules. Use standard TypeScript patterns to share policies and route definitions across projects.
    [Read More](/guides/config-splitting/)
  </Card>
  <Card title="Local Development" icon="laptop">
    Run your entire gateway locally with `wrangler dev` or `node`. No need for complex Docker setups just to test a rate limit.
    [Read More](/getting-started/local-development/)
  </Card>
  <Card title="Type-Aware Pipelines" icon="check-selection">
    Built-in policies are fully typed. If a policy requires a specific configuration, TypeScript will tell you immediately.
    [Read More](/concepts/policies/)
  </Card>
</CardGrid>

---

## Build a Gateway in Seconds

<Steps>

1.  **Install the library**
    ```bash
    npm install @homegrower-club/stoma hono
    ```

2.  **Define your configuration**
    Create a `GatewayConfig` that describes your routes, policies, and upstreams.

    ```typescript
    import { createGateway, jwtAuth, rateLimit, requestLog, cors, health } from "@homegrower-club/stoma";

    const gateway = createGateway({
      name: "my-api",
      basePath: "/api",
      policies: [requestLog(), cors()],
      routes: [
        health(), // Built-in health check
        {
          path: "/users/*",
          pipeline: {
            policies: [
              jwtAuth({ secret: "env:JWT_SECRET" }),
              rateLimit({ max: 100, windowSeconds: 60 }),
            ],
            upstream: {
              type: "url",
              target: "https://users-api.internal.example.com",
            },
          },
        },
      ],
    });

    export default gateway.app;
    ```

3.  **Deploy anywhere**
    Stoma compiles your config into a standard Hono app. Export it as a module for Cloudflare Workers, or serve it with Deno, Bun, or Node.js.

</Steps>

---

## Comparison

| Feature | Stoma | Kong | KrakenD | Express Gateway |
|---------|-------|------|---------|-----------------|
| **Configuration** | **TypeScript (Type-safe)** | YAML / Admin API | JSON | YAML / JSON |
| **Execution** | **Embedded Library** | Separate Service | Separate Binary | Middleware |
| **Language** | TypeScript | Lua / Go | Go | JavaScript |
| **Multi-runtime** | **Yes (Edge & Server)** | No (Container) | No (Binary) | No (Node only) |
| **Bundle size** | **Lightweight (Core)** | 100MB+ Image | 80MB+ Binary | 50MB+ Modules |
| **Status** | **Active** | Active | Active | Unmaintained |

[See full comparison â†’](/guides/comparison/)

---

## Batteries Included: Comprehensive Built-in Policies

Stoma ships with a comprehensive suite of policies, sorted into logical categories to handle every aspect of your API lifecycle.

<CardGrid>
  <Card title="Authentication" icon="lock">
    JWT, API Key, Basic Auth, OAuth2 Introspection, RBAC, JWS, and RFC 9421 HTTP Signatures.
    [Read More](/policies/auth/)
  </Card>
  <Card title="Traffic Control" icon="random">
    Rate Limiting, IP/Geo Filtering, Caching, SSL Enforcement, JSON Threat Protection, and Traffic Shadowing.
    [Read More](/policies/traffic/)
  </Card>
  <Card title="Resilience" icon="warning">
    Circuit Breakers, Retries, Timeouts, and Latency Injection for testing.
    [Read More](/policies/resilience/)
  </Card>
  <Card title="Transformation" icon="document">
    CORS, Request/Response Rewriting, JSON Validation, and Content Assignment.
    [Read More](/policies/transform/)
  </Card>
</CardGrid>

---

## Platform-Specific Power

While Stoma is runtime-agnostic, it can leverage platform-specific features like **Cloudflare Service Bindings** for zero-latency communication between Workers.

[Read More about Upstreams](/concepts/upstreams/)

<Tabs>
  <TabItem label="Cloudflare Workers">
    ```typescript
    upstream: {
      type: "service-binding",
      service: "USERS_SERVICE",
    }
    ```
    *Declare in `wrangler.jsonc` for high-performance Worker-to-Worker routing.*
  </TabItem>
  <TabItem label="Universal Proxy">
    ```typescript
    upstream: {
      type: "url",
      target: "https://api.example.com",
    }
    ```
    *Works on any runtime (Node.js, Deno, Bun) using standard `fetch`.*
  </TabItem>
</Tabs>

---

## Next Steps

<CardGrid>
  <Card title="Quick Start" icon="rocket">
    Build your first gateway in minutes.
    [Go to Quick Start](/getting-started/quick-start/)
  </Card>
  <Card title="Policy Reference" icon="list-format">
    Explore the full list of built-in policies.
    [Browse Policies](/policies/auth/)
  </Card>
  <Card title="Architecture" icon="setting">
    Understand the request lifecycle and core concepts.
    [How it works](/concepts/architecture/)
  </Card>
  <Card title="Recipes" icon="magnifier">
    Production-ready patterns and copy-paste examples.
    [View Recipes](/recipes/)
  </Card>
</CardGrid>

<Aside type="tip">
  Stoma is used in production to power high-performance, multi-tenant API gateways on Cloudflare Workers.
</Aside>

